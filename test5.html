<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Blitz Gmap Editor - Test</title>
<script src="http://maps.googleapis.com/maps/api/js?sensor=false&libraries=drawing,geometry" type="text/javascript"></script>
<script type="text/javascript" src="http://geoxml3.googlecode.com/svn/branches/polys/geoxml3.js"></script>
<script type="text/javascript" src="http://geoxml3.googlecode.com/svn/trunk/ProjectedOverlay.js"></script>
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="jscolor/jscolor.js" type="text/javascript"></script>
<script src="json2.js" type="text/javascript"></script>
<script src="xmlwriter.js" type="text/javascript"></script>
  <script src="blitz.gmap3.js" type="text/javascript"></script>

</head>
<body>
<table><tr><td>
<h1>Blitz Gmap Editor - test5 - save to KML &amp; generate map from KML</h1>
</td><td>
</td></tr></table>
<div id="myMap" style="height:400px; width:100%;"></div>
<input type="button" value="generate polygon from encoded" onclick="BlitzMap.setMapFromEncoded(document.getElementById('encodedData').value);" /> <input type="button" value="clear map" onclick="BlitzMap.deleteAll();" /><input type="button" value="toggle edit mode" onclick="BlitzMap.toggleEditable();" />
<textarea id="encodedData" style="width:100%; /* height: 100px; */">aq|rFttwdQiizCfl}AqcbFfxv@_jfBff}@silAdfdDl`UzrlCmpp@z~eBgq@rrz`@~_dK?rfBstgK~daE~eBbwDulch@</textarea>
<input type="button" value="Generate Map Text" onclick="BlitzMap.toJSONString()" />
<input type="button" value="Create Map from JSON" onclick="BlitzMap.setMap( 'myMap', true, 'mapData' ); BlitzMap.init()">

<textarea id="mapData" style="width:100%; height:300px">
{"zoom":15,"tilt":0,"mapTypeId":"hybrid","center":{"lat":-31.404930914025307,"lng":-64.17948960867307},"overlays":[{"type":"polygon","id":"1","paths":[[{"lat":"-31.4062860948088","lng":"-64.18813705444336"},{"lat":"-31.40577330178629","lng":"-64.19118404388428"},{"lat":"-31.40591981436436","lng":"-64.19496059417725"},{"lat":"-31.404454678290417","lng":"-64.20023918151855"},{"lat":"-31.40306277783358","lng":"-64.20367240905762"},{"lat":"-31.400462066400554","lng":"-64.20427322387695"},{"lat":"-31.39925326050003","lng":"-64.20427322387695"},{"lat":"-31.398227594801057","lng":"-64.20307159423828"},{"lat":"-31.398264225911845","lng":"-64.19993877410889"},{"lat":"-31.400462066400554","lng":"-64.19775009155273"},{"lat":"-31.39877705996206","lng":"-64.19298648834229"},{"lat":"-31.400938258390248","lng":"-64.19187068939209"},{"lat":"-31.402916260795187","lng":"-64.18955326080322"},{"lat":"-31.403685472695","lng":"-64.18689250946045"}]]},{"type":"polygon","id":"2","paths":[[{"lat":"-31.40705527908861","lng":"-64.18826580047607"},{"lat":"-31.405993070567614","lng":"-64.18800830841064"},{"lat":"-31.403722101675836","lng":"-64.18689250946045"},{"lat":"-31.40408839069791","lng":"-64.18350219726562"},{"lat":"-31.40401513300786","lng":"-64.18105602264404"},{"lat":"-31.404894221514343","lng":"-64.17736530303955"},{"lat":"-31.405553532490288","lng":"-64.17590618133545"},{"lat":"-31.407128534405498","lng":"-64.1746187210083"},{"lat":"-31.408813390910062","lng":"-64.17358875274658"},{"lat":"-31.40943604761442","lng":"-64.17346000671387"},{"lat":"-31.410864479735327","lng":"-64.17328834533691"},{"lat":"-31.412366141337486","lng":"-64.1731595993042"},{"lat":"-31.41240276692996","lng":"-64.17440414428711"},{"lat":"-31.412146387482352","lng":"-64.17539119720459"},{"lat":"-31.40811747558618","lng":"-64.18890953063965"}]]}]}</textarea>
<script type="text/javascript">
        BlitzMap.setMap( 'myMap', true, 'mapData' );
</script>
<input type="button" value="Generate KML" onclick="BlitzMap.toKML()" /><input type="button" value="parse KML to map" onclick="BlitzMap.setMapFromKML(document.getElementById('kmlString').value)" />
<textarea id="kmlString" style="width:100%; height:500px"></textarea>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-162157-1";
urchinTracker();
</script>

<div id='infoWinContainer'>
    <style>
       #BlitzMapInfoWindow_container input:focus, #BlitzMapInfoWindow_container textarea:focus{border:2px solid #7DB1FF;}
       #BlitzMapInfoWindow_container .BlitzMapInfoWindow_button{background-color:#2883CE;color:#ffffff;padding:3px 10px;border:2px double #cccccc;cursor:pointer;}
       .BlitzMapInfoWindow_button:hover{background-color:#2883CE;border-color:#05439F;}
    </style>
    <form style="height:100%">
       <div id="BlitzMapInfoWindow_container" style="height:100%">
          <div id="BlitzMapInfoWindow_details">
             Places:&nbsp;&nbsp;
                <select id="BlitzMapInfoWindow_id">
                   <option value="0">Pick a place Name</option>
                   <option value="1">Place 1</option>
                   <option value="2">Place 2</option>
                </select>
          </div>
          <div id="BlitzMapInfoWindow_styles" style="display:none;width:100%;">
             <div style="height:25px;padding-bottom:2px;font-weight:bold;">Styles &amp; Colors</div>
          </div>
          <div style="position:relative; bottom:0px;">
             <input type="button" value="Delete" class="BlitzMapInfoWindow_button" onclick="BlitzMap.deleteOverlay()" style="background-color:#2883CE;color:#ffffff;padding:3px 10px;border:2px double #cccccc;cursor:pointer;" title"Delete selected shape">&nbsp;&nbsp;
             <input type="button" value="OK" class="BlitzMapInfoWindow_button" onclick="BlitzMap.closeInfoWindow()" style="background-color:#2883CE;color:#ffffff;padding:3px 10px;border:2px double #cccccc;cursor:pointer;float:right;" title="Apply changes to the overlay">
             <input type="button" value="Cancel" class="BlitzMapInfoWindow_button" onclick="this.form.reset();BlitzMap.cancelInfoWindow()" style="background-color:#2883CE;color:#ffffff;padding:3px 10px;border:2px double #cccccc;cursor:pointer;float:right;">
             <div style="clear:both;"></div>
             <div style="clear:both;"></div>
          </div>
       </div>
    </form>
</div>


</body>
</html>
